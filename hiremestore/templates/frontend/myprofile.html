{% extends 'frontend/frontend_base.html' %}

{% load static %}

{% block content %}

<head>
	<!-- Font Awesome -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
	<!-- MDB -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/#[[latestVersion]]#/mdb.min.css" rel="stylesheet" />
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/5.0.0/mdb.min.js"></script>
</head>
<div class="clearfix"></div>

<!-- General Detail Start -->
<section class="dashboard-wrap">
	<div class="container-fluid">
		<div class="row">

			{% include 'frontend/frontend_sidnav.html' %}

			<!-- Content Wrap -->
			<div class="col-lg-9 col-md-8">
				<div class="dashboard-body">
					<div class="dashboard-caption">

						<div class="dashboard-caption-header">
							<h4><i class="ti-id-badge"></i>My Profile</h4>
						</div>
						<form method="post" action="{% url 'update_profile_update' user.id %}"
							enctype="multipart/form-data">
							{% csrf_token %}
							<div class="dashboard-caption-wrap">

								<!-- row -->
								<div class="row mrg-top-20">
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Full Name*</label>
											<input type="text" name="name" value="{{worker.name}}" class="form-control"
												placeholder="Enter Name">
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Email</label>
											<input type="email" name="email" value="{{worker.email}}"
												class="form-control" placeholder="designing@themezhub.com">
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Phone</label>
											<input type="text" name="phone" value="{{worker.phone}}"
												class="form-control" placeholder="91 256 254 4578">
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Birth Date</label>
											<input type="text" id="birthday" value="{{worker.dob}}" name="dob"
												data-lang="en" data-large-mode="true" data-min-year="1990"
												data-max-year="2020" data-disabled-days="2017/08/17,2017/08/18"
												data-id="datedropper-0" data-theme="my-style" class="form-control"
												readonly="{{worker.dob}}">
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Headlines*</label>
											<input type="text" name="headline" class="form-control" value="{{ worker.bio }}"
												placeholder="Enter Headlines">
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Gender</label>
											<select id="jb-level" name="gender" class="form-control">
												<option value="">Gender</option>
												<option value="Male">Male</option>
												<option value="Female">Female</option>
												<option value="Other">Other</option>
											</select>
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Language</label>
											<select id="jb-level" name="lang" class="form-control">
												<option>HIndi</option>
												<option>English</option>
												<option>Panjabi</option>
												<option>Sindhi</option>
												<option>Other</option>
											</select>
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Skill</label>
											<select id="jb-level" name="lang" class="form-control">
												<option>HIndi</option>
												<option>English</option>
												<option>Panjabi</option>
												<option>Sindhi</option>
												<option>Other</option>
											</select>
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-6">
										<label>Update yor DP</label>
										{% if worker.image %}
										<input type="file" id="input-file-now-custom-2" class="file-upload" name="image"
											data-default-file="{{ worker.image.url}}" />
										{% else %}
										<input type="file" id="input-file-now-custom-2" class="file-upload"
											name="image" />
										{% endif %}
									</div>
								</div>

								<!-- row -->
								<div class="row mrg-top-30">
									<div class="col-md-12 col-sm-12">
										<div class="form-group">
											<h4>Address, Loation & Map</h4>
										</div>
									</div>
								</div>

								<!-- row -->
								<div class="row">
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Country*</label>
											<select id="jb-level" name="country" class="form-control">
												<option value="'">Select Country</option>
												{% for cou in country %}
												<option value="{{cou.id}}">{{cou.name}}</option>
												{% endfor %}
											</select>
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>State*</label>
											<select id="jb-level" name="state" class="form-control">
												<option value="">Select State</option>
												<!-- {% for cou in state %}
											<option value="{{cou.id}}">{{cou.name}}</option>
											{% endfor %} -->
											</select>
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>District*</label>
											<select id="jb-level" name="district" class="form-control">
												<option value="">Select District</option>
												<!-- {% for cou in city %}
														<option value="{{con.id}}">{{cou.name}}</option>
														{% endfor %} -->
											</select>
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>City*</label>
											<select id="jb-level" name="city" class="form-control">
												<option value="">Select City</option>
												<!-- {% for cou in city %}
														<option value="{{con.id}}">{{cou.name}}</option>
														{% endfor %} -->
											</select>
										</div>
									</div>

									<div class="col-lg-12 col-md-12 col-sm-12">
										<div class="form-group">
											<div id="singleMap" data-latitude="40.7427837"
												data-longitude="-73.11445617675781" data-mapTitle="Our Location"></div>
										</div>
									</div>

								</div>
								<div class="row mrg-top-30">
									<div class="col-md-12 col-sm-12">
										<div class="form-group">
											<h4>Work Details</h4>
										</div>
									</div>
								</div>

								<div class="row">
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Category Type</label>
											<select id="jb-level" name="categoryType" class="form-control">
												<option>Select CategoryType</option>
												<option value="1">Technical</option>
												<option value="2">Non-technical</option>
											</select>
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Category</label>
											<select id="jb-level" name="category" class="form-control" required>
												<!-- <option>Select Category</option> -->
											</select>
										</div>
									</div>

									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Subcategory</label>
											<select id="jb-level" name="Subcategory" class="form-control" >
												<option>Select Subcategory</option>
											</select>
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Work Experience(In Months)</label>
											<input type="text" name="exp" class="form-control" value="{{worker.experiance}}"
												placeholder="Enter Work Experience">
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Work Charges(Per Day)</label>
											<input type="text" name="charges" class="form-control" value="{{worker.charges}}"
												placeholder="Enter Work Charges">
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Availability</label>
											<select id="jb-level" name="availability" class="form-control">
												<option>Select availability</option>
												<option>Hourly</option>
												<option>Daily</option>
												<option>Monthly</option>
												<option>Yearly</option>
												<option>Full Time</option>
												<option>Part Time</option>
											</select>
										</div>
									</div>
									<div class="col-lg-12 col-md-12 col-sm-12">
										<div class="form-group">
											<label>About Info</label>
											<textarea class="form-control textarea" name="discription" 
												placeholder="About Company">{{worker.discription}}</textarea>
										</div>
									</div>
									<div class="col-lg-12 col-md-12 col-sm-12">
										<label>Upload Your Gallery Photos(Multiple Select Accept)</label>
										<div class="file-upload-wrapper">
											<input type="file" id="input-file-now-custom-2" name="gallery"
												class="file-upload" multiple />
										</div>
									</div>
								</div>

								<!-- row -->
								<div class="row mrg-top-30">
									<div class="col-md-12 col-sm-12">
										<div class="form-group">
											<h4>Social Accounts</h4>
										</div>
									</div>
								</div>

								<!-- row -->
								<div class="row">
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Facebook</label>
											<input type="text" class="form-control" name="fb" value="{{worker.fb}}"
												placeholder="Ex. 502, Sector 20 C, Mohali">
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Instagram</label>
											<input type="text" class="form-control" name="insta" value="{{worker.fb}}">
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Google Plus</label>
											<input type="text" class="form-control" name="google" value="{{worker.fb}}">
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Youtube</label>
											<input type="text" class="form-control" name="yt" value="{{worker.fb}}">
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>website</label>
											<input type="text" class="form-control" name="website" value="{{worker.fb}}">
										</div>
									</div>
									<div class="col-lg-6 col-md-6 col-sm-12">
										<div class="form-group">
											<label>Linkedin</label>
											<input type="text" class="form-control" name="link" value="{{worker.fb}}">
										</div>
									</div>
								</div>


								<button type="submit" class="btn-savepreview"><i
										class="ti-angle-double-right"></i>Update
									Changes</button>

							</div>
						</form>
					</div>
				</div>
			</div>

		</div>
	</div>
</section>
<!-- General Detail End -->

<!-- ============================ Call To Action ================================== -->
<section class="theme-bg call-to-act-wrap">
	<div class="container">
		<div class="row">
			<div class="col-lg-12">

				<div class="call-to-act">
					<div class="call-to-act-head">
						<h3>Want to Become a Success Employers?</h3>
						<span>We'll help you to grow your career and growth.</span>
					</div>
					<a href="#" class="btn btn-call-to-act">SignUp Today</a>
				</div>

			</div>
		</div>
	</div>
</section>
<!-- ============================ Call To Action End ================================== -->

{% block javascripts %}

<script type="text/javascript" src="{% static 'frontend/assets/plugins/js/sweetalert.html' %}"></script>
<script src="{% static 'frontend/assets/js/dashboard-custom.js' %}"></script>

<!-- Map -->
<script src="http://maps.google.com/maps/api/js?key="></script>
<script src="{% static 'frontend/assets/js/map_infobox.js' %}"></script>
<script src="{% static 'frontend/assets/js/markerclusterer.js' %}"></script>
<script src="{% static 'frontend/assets/js/map.js' %}"></script>

<script>
	$('#birthday').dateDropper();
</script>
<script>
	$('select[name=categoryType]').on('change', function () {
		$('select[name=category]').empty()
		$type = $(this).val();
		$.ajax({
			url: "{% url 'getcategory' %}",
			type: 'Get',
			data: { csrfmiddlewaretoken: '{{ csrf_token }}', type: $type },
			success: function (response) {
				console.log(response)
				$.each(response, function (key, value) {
					$('select[name=category]')
						.append($('<option>', { value: key })
							.text(value));
				});
			}
		});
	});

	$('select[name=category]').on('change', function () {
		$('select[name=Subcategory]').empty()
		$catid = $(this).val();
		$.ajax({
			url: "{% url 'getsubcategory' %}",
			type: 'Get',
			data: { csrfmiddlewaretoken: '{{ csrf_token }}', category_id: $catid },
			success: function (response) {
				$.each(response, function (key, value) {
					$('select[name=Subcategory]').append('<option value=' + key + '>' + value + '</option>');
				});
			}
		});
	});


	$('body').on('change', 'select[name=country]', function (e) {
		$('select[name=state]').empty()
		var country_id = $(this).val();
		$.ajax({
			type: "GET",
			url: "/statelist",
			dataType: "JSON",
			data: {
				"country_id": country_id,
				csrfmiddlewaretoken: "{{ csrf_token }}",
			},
			success: function (jsondict) {
				$.each(jsondict, function (key, value) {
					$('select[name=state]')
						.append($("<option></option>")
							.attr("value", key)
							.text(value));
				});
			}

		});

	});

	$('body').on('change', 'select[name=state]', function (e) {

		$('select[name=district]').empty()
		var state_id = $(this).val();
		$.ajax({
			type: "Get",
			url: "/citylist",
			dataType: "JSON",
			data: {
				"state_id": state_id,
				csrfmiddlewaretoken: "{{ csrf_token }}",
			},
			success: function (jsondict) {

				$.each(jsondict, function (key, value) {
					$('select[name=district]')
						.append($("<option></option>")
							.attr("value", key)
							.text(value));
				});
				$.each(jsondict, function (key, value) {
					$('select[name=city]')
						.append($("<option></option>")
							.attr("value", key)
							.text(value));
				});
			}

		});
	});

</script>
{% endblock javascripts %}
</div>
</body>

</html>
{% endblock %}